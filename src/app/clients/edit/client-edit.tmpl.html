<!-- Client Edit -->

<form role="form"
      name='update-client-form' ng-submit='vm.updateClient(vm.editedClient)'>

  <!-- Toolbar -->
  <md-toolbar>
    <div class="md-toolbar-tools">
      <md-button ng-click='vm.viewClient(vm.editedClient)'
                 class="md-icon-button"
                 aria-label="Go Back">
        <md-tooltip md-direction="bottom">Go back</md-tooltip>
        <ng-md-icon icon="keyboard_backspace" size="24"></ng-md-icon>
      </md-button>
      <h2>
        <span>Clients</span>
      </h2>
      <span flex></span>

      <!-- Delete -->
      <md-button type='button'
                 class="md-icon-button"
                 aria-label="Delete Client"
                 ng-click='vm.deleteClient(vm.editedClient)'>
        <md-tooltip md-direction="bottom">
          Delete Client
        </md-tooltip>
        <ng-md-icon icon="delete" size="24"></ng-md-icon>
      </md-button>

      <!-- Save -->
      <md-button type='submit'
                 class="md-icon-button"
                 aria-label="Save Client">
        <md-tooltip md-direction="bottom">
          Save Client
        </md-tooltip>
        <ng-md-icon icon="done" size="24"></ng-md-icon>
      </md-button>
    </div>
  </md-toolbar>

  <!-- Main Content -->
  <md-content flex class='md-padding'>

      <!-- First Name and Last Name -->
      <div layout layout-xs="column">

        <md-input-container flex>
          <div class="upload-image-placeholder">

            <div class="">
              <img ngf-thumbnail="vm.editedClient.picture"
                   height='100'>

               <img ng-src="{{ vm.editedClient.picture_thumb_cropped }}"
                    class="md-card-image"
                    alt="Profile Image"
                    height='80'
                    ng-hide='vm.editedClient.picture.name.length > 0'
                    layout-padding>
            </div>

            <div class="">
              <md-button ngf-select
                         ng-model="vm.editedClient.picture"
                         name="picture"
                         ngf-pattern="'image/*'"
                         ngf-accept="'image/*'"
                         ngf-max-size="20MB"
                         ngf-min-height="100">Change Image</md-button>
            </div>

          </div>
        </md-input-container>

        <md-input-container flex>
          <label>First name</label>
          <input ng-model='vm.editedClient.first_name'
                 ng-required="true"
                 rm-focus>
          <div ng-show="update-client-form.firstName.$dirty"
               ng-messages="update-client-form.firstName.$error">
            <div ng-message="required">
              A first name must be entered
            </div>
          </div>
        </md-input-container>

        <md-input-container flex>
          <label>Last name</label>
          <input ng-model='vm.editedClient.last_name'
                 ng-required="true"
                 rm-focus>
          <div ng-show="update-client-form.lastName.$dirty"
               ng-messages="update-client-form.lastName.$error">
            <div ng-message="required">
              A last name must be entered
            </div>
          </div>
        </md-input-container>
      </div>

      <!-- Phone + Email -->
      <div layout layout-xs="column">
        <md-input-container flex>
          <label>Phone</label>
          <input ng-model='vm.editedClient.phone'>
        </md-input-container>
        <md-input-container flex>
          <label>Email</label>
          <input ng-model='vm.editedClient.email'>
        </md-input-container>
      </div>

      <!-- Address -->
      <div layout layout-xs="column">
        <md-input-container flex>
          <label>address</label>
          <textarea name="address"
                    ng-model="vm.editedClient.address"
                    md-maxlength="100"></textarea>
        </md-input-container>
      </div>

      <md-button ng-click='vm.uploadx(vm.editedClient.picture)'>Upload Photo</md-button>

  </md-content>
</form>
