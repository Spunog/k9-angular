<!-- Client Create -->
<md-dialog class='appointmentDialog' aria-label="Create Appointment"  ng-cloak>


  <form role="form"
        name='add-appointment-form'
        ng-submit='vm.createAppointment(vm.newAppointment)'>

    <md-toolbar>
      <div class="md-toolbar-tools">
        <h2>Create Appointment</h2>
        <span flex></span>
        <md-button type='button'
                   class="md-icon-button"
                   aria-label="Delete Client"
                   ng-show='vm.newAppointment.id && vm.newAppointment.id > 0'
                   ng-click='vm.deleteAppointment(vm.newAppointment)'>
          <md-tooltip md-direction="bottom">
            Delete Appointment
          </md-tooltip>
          <md-icon md-svg-icon="delete_white"></md-icon>
        </md-button>
        <md-button class="md-icon-button"
                   ng-click="vm.createAppointmentCancel()">
          <md-icon aria-label="Close dialog"
                   md-svg-icon="close_white"></md-icon>
           <md-tooltip md-direction="bottom">
             Close
           </md-tooltip>
        </md-button>
      </div>
    </md-toolbar>

    <md-dialog-content>
      <div class="md-dialog-content">

        <!-- Title -->
        <div layout layout-sm="column">
          <md-input-container flex>
            <label>Title</label>
            <input ng-model='vm.newAppointment.title'
                   ng-required="true"
                   rm-focus>
          </md-input-container>
        </div>

        <!--Date-->
        <div layout="row" layout-wrap>
          <md-datepicker ng-model="vm.newAppointment.start"
                         ng-required="true"
                         md-placeholder="Date"></md-datepicker>
        </div>

        <!-- Appointment Time -->
        <div layout="row" layout-wrap>

          <md-input-container flex>
            <label>Time</label>

            <md-select ng-model="vm.newAppointment.startTime"
                       ng-model-options="{trackBy: '$value.id'}"
                       ng-required="true"
                       aria-label="Appointment Start Time">
              <md-option ng-value='time' ng-repeat="time in vm.bookingTimes">
                {{ time.name }}
              </md-option>
            </md-select>
          </md-input-container>

        </div>

      </div>

    </md-dialog-content>

    <!-- Save -->
    <md-dialog-actions layout="row">
      <span flex></span>
      <md-button type='submit'
                 class="md-primary"
                 md-no-ink>Save Appointment</md-button>
      <span flex></span>
    </md-dialog-actions>

  </form>
</md-dialog>
